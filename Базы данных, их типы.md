# Домашнее задание к занятию «Базы данных, их типы»


### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*
### Ответ

1.1. Рекомендуемая СУБД: Реляционная (например, PostgreSQL, Microsoft SQL Server, Oracle).
Почему: Реляционные СУБД предоставляют структурированное хранение данных, поддержку сложных запросов, агрегации и аналитических функций. Для ускорения хеширования, можно использовать специализированные индексы и кэширование.

1.2. Рекомендуемая СУБД для лендингов: Документоориентированная (например, MongoDB).
Рекомендуемая СУБД для CRM: Реляционная (например, PostgreSQL).
Почему: Документоориентированные СУБД эффективны для неструктурированных данных лендингов, а реляционные - для структурированных данных CRM.

1.3. Рекомендуемая СУБД: Реляционная (например, PostgreSQL).
Почему: Если структура данных подразделения контроля качества схожа с предыдущими задачами, реляционная СУБД обеспечит удобное хранение и анализ данных.

1.4. Рекомендуемая СУБД: Графовая (например, Neo4j) для маршрутов и логистики, реляционная для документов.
Почему: Графовая СУБД идеально подходит для работы с сложными связями между объектами и оптимизации маршрутов.

1.1.* Ускорение хеширования:
Для ускорения хеширования можно рассмотреть использование оптимизированных алгоритмов хеширования и параллельных вычислений. Использование специализированных библиотек и аппаратного ускорения также может значительно повысить производительность.

1.3.* Использование одной СУБД:
В зависимости от структуры данных и требований, вы можете использовать уже существующую реляционную СУБД для задачи контроля качества, если она может обеспечить необходимую простую и понятную структуру.

1.4.* Интеграция с отделом закупок:
Возможно, для удобства и оптимизации, создание отдельной СУБД для отдела закупок будет более эффективным, особенно если их задачи существенно отличаются от логистических.
1.5.* Возможно, можно использовать одну реляционную СУБД для хранения общей информации о компании (перечисленных выше задач), но с учетом сложности и объема данных в каждой из областей, оптимальнее может быть использование нескольких СУБД, интегрированных через API или middleware.



### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.
### Ответ 
Выбор способа пополнения: Пользователь выбирает один из доступных способов пополнения баланса, таких как банковская карта, электронные кошельки, интернет-банкинг и т.д.
Ввод суммы: Пользователь вводит сумму, которую он хочет пополнить на баланс своего телефона. Эта сумма может быть фиксированной или пользователь может ввести желаемую сумму вручную.
Подтверждение платежа: Пользователь подтверждает свой выбор, просматривает указанную сумму и выбранный способ пополнения, а затем нажимает на кнопку "Подтвердить" или аналогичную.
Аутентификация: В зависимости от выбранного способа пополнения, пользователь может потребовать аутентификации, например, ввод пароля, использование биометрических данных или одноразового кода.
Обработка платежа: Платежная система или банковский процессор обрабатывают запрос на пополнение счета. Это включает в себя проверку данных пользователя, проверку наличия достаточных средств и связь с банком пользователя (или другими финансовыми институтами).
Подтверждение успеха: Если все проверки пройдены успешно, система выдает пользователю подтверждение о том, что транзакция была успешно завершена, и что баланс его телефона пополнен на указанную сумму. Пользователь также может получить уведомление о транзакции по электронной почте или SMS.


2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?
### ОТВЕТ 
Настройка автоплатежа: Пользователь должен зарегистрировать свой телефон и выбрать опцию автоплатежа у своего провайдера связи или в системе, через которую осуществляются автоплатежи.
Выбор параметров автоплатежа: Пользователь определяет сумму, которую он хочет пополнять на свой счет телефона через автоплатеж, и устанавливает частоту пополнения (например, ежемесячно, еженедельно или другая периодичность).
Установка способа оплаты: Пользователь указывает способ оплаты, который будет использоваться для автоматического списания средств. Это может быть связано с банковской картой, банковским счетом или другими финансовыми инструментами.
Подтверждение параметров: Пользователь подтверждает выбранные параметры автоплатежа, такие как сумма, периодичность и способ оплаты.
Проверка баланса и средств: Перед каждым автоплатежом система проводит проверку баланса пользователя и наличия достаточных средств на выбранном способе оплаты.
Автоматическое списание средств: В соответствии с выбранными параметрами автоплатежа система автоматически списывает необходимую сумму с выбранного финансового инструмента пользователя (например, с банковской карты) и зачисляет средства на баланс телефона.
Уведомление о транзакции: После успешного списания средств пользователь может получить уведомление о выполненной транзакции через электронную почту, SMS или в приложении провайдера связи.
Мониторинг и управление: Пользователь может в любой момент изменить параметры автоплатежа, приостановить или отключить его, а также следить за историей автоматических платежей.


---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 
### ОТВЕТ
Структурированные данные: SQL-системы работают с данными в виде таблиц, где каждая колонка имеет определенный тип данных. Это обеспечивает четкую структуру данных и позволяет гарантировать соблюдение определенных правил целостности и типов данных.
Сложные запросы и аналитика: SQL-системы предоставляют мощный язык запросов (SQL), который позволяет выполнять сложные операции агрегации, сортировки, фильтрации и объединения данных. Это делает SQL-системы предпочтительными для аналитических задач и отчетности.
Нормализация данных: В реляционных базах данных можно использовать нормализацию для минимизации избыточности данных и обеспечения целостности. Это особенно полезно при работе с большим объемом данных, где обеспечение консистентности может быть критически важным.
Транзакции и ACID-свойства: SQL-системы предоставляют механизм транзакций, который обеспечивает ACID-свойства (атомарность, согласованность, изолированность, долговечность). Это гарантирует целостность данных даже в случае сбоев системы или ошибок.
Широкая поддержка и инструменты: Реляционные базы данных имеют долгую историю и широкое распространение. Это означает, что существует множество сторонних инструментов, библиотек и ресурсов для работы с SQL-системами. Также существует большое количество квалифицированных специалистов, знакомых с SQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.
### ОТВЕТ
Масштабируемость: NewSQL системы часто разработаны с учетом горизонтальной масштабируемости, что позволяет им эффективно обрабатывать большие объемы данных и нагрузку. Это сравнимо с возможностями масштабирования NoSQL систем, таких как распределение данных и горизонтальное добавление узлов.
Транзакции и ACID-свойства: NewSQL системы обычно поддерживают ACID-свойства и транзакции, что делает их более подходящими для задач, требующих строгой согласованности данных и обеспечения целостности.
Сложные запросы и аналитика: NewSQL системы могут предоставлять мощные языки запросов, аналогичные SQL, что облегчает выполнение сложных операций агрегации, сортировки и фильтрации данных.
Согласованность и доступность: NewSQL системы обычно стремятся достичь баланса между согласованностью данных и доступностью, что может быть важным для приложений с высокой нагрузкой и требованиями к надежности.
Совместимость и инструменты: NewSQL системы могут сохранять совместимость с существующими приложениями, использующими SQL-запросы, и использовать инструменты, предоставляемые экосистемой SQL.
Гибридные решения: Некоторые NewSQL системы предлагают гибридные подходы, позволяющие выбирать уровень согласованности в зависимости от конкретных потребностей приложения.


---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

### Ответ
В данном случае, учитывая необходимость обработки большого объема данных на 1000 машинах, следует рассмотреть NoSQL базы данных и модель MapReduce.

Тип СУБД: NoSQL
NoSQL базы данных спроектированы для обработки большого объема данных и горизонтальной масштабируемости. Они часто применяются для таких задач, как хранение и анализ больших данных, обработка потоковых данных и другие сценарии, требующие высокой производительности и масштабируемости.
Преимущества NoSQL для данной задачи:
Горизонтальная масштабируемость: NoSQL базы данных позволяют легко добавлять новые узлы для обработки растущей нагрузки. Это идеально подходит для использования 1000 машин.
Высокая производительность: NoSQL базы данных, такие как колоночные хранилища или документные базы данных, предоставляют эффективные методы хранения и доступа к данным, что может ускорить выполнение вычислений.
Гибкость схемы данных: NoSQL базы данных позволяют работать с данными разной структуры без необходимости предварительного определения схемы, что упрощает обработку разнообразных данных.

Модель распределенных вычислений: MapReduce
MapReduce - это модель программирования для обработки и генерации больших наборов данных на кластерах. Она часто используется совместно с NoSQL базами данных для распределенных вычислений.
Преимущества MapReduce для данной задачи:
Параллельное выполнение: Модель MapReduce позволяет разбивать задачи на параллельные этапы (Map и Reduce), что идеально подходит для использования большого количества машин.
Масштабируемость: MapReduce обеспечивает масштабируемость, так как задачи могут быть автоматически разделены между узлами кластера.
Обработка больших данных: MapReduce разработана для обработки больших объемов данных, что соответствует вашей задаче.
Отказоустойчивость: MapReduce обеспечивает обработку ошибок и автоматическое восстановление в случае сбоев.

---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.
