# Домашнее задание к занятию «Ansible. Часть 1»



### Задание 1

**Ответьте на вопрос в свободной форме.**

Какие преимущества даёт подход IAC?

### Ответ
Преимущества IAC:

Автоматизация и повторяемость: Использование кода позволяет автоматизировать процессы развертывания, конфигурации и управления инфраструктурой. Это позволяет достичь повторяемости и устранить человеческий фактор, что снижает вероятность ошибок и упрощает масштабирование.

Однородность: Инфраструктура, описанная в виде кода, может быть развернута и конфигурирована одинаковым образом на разных средах (тестовой, разработки, производственной). Это обеспечивает единообразие и согласованность, что способствует стабильности и упрощает управление различными средами.

Управляемость и контроль версий: Код инфраструктуры может быть хранен в системе контроля версий, такой как Git, что позволяет отслеживать изменения, вносимые в инфраструктуру. Это предоставляет возможность вернуться к предыдущим состояниям, реализовать проверку изменений и управлять конфигурацией инфраструктуры как кода.

Масштабируемость и гибкость: Использование кода для описания инфраструктуры позволяет легко масштабировать и изменять ее. Вы можете легко добавлять или удалять ресурсы, изменять конфигурацию, вносить изменения в параметры и т.д., без необходимости выполнять ручные действия.

Документация и совместная работа: Код инфраструктуры является самодокументируемым и может служить в качестве единого источника информации о состоянии и конфигурации инфраструктуры. Код также может быть легко обсужден, рецензирован и совместно разрабатываться, упрощая сотрудничество в команде.

Воспроизводимость и тестирование: Код инфраструктуры может быть использован для создания тестовых сред, которые полностью соответствуют боевой инфраструктуре. Это позволяет проводить тестирование изменений, обновлений и конфигурации на идентичных средах, что повышает надежность и уверенность в работе инфраструктуры. Путем автоматизации развертывания и настройки инфраструктуры через код, вы можете быстро создавать и уничтожать тестовые среды, воспроизводить конкретные сценарии и проверять работоспособность системы в контролируемых условиях. Это помогает выявить потенциальные проблемы и улучшить качество инфраструктуры до ее внедрения в рабочую среду. Кроме того, IAC позволяет легко создавать сценарии автоматического тестирования, которые могут проверять целостность и работоспособность инфраструктуры после внесения изменений. Это способствует выявлению проблем на ранних стадиях и повышает стабильность и надежность системы.
Интеграция с CI/CD: Подход IAC позволяет интегрировать управление инфраструктурой в процесс CI/CD (непрерывная интеграция и доставка), что упрощает автоматизацию развертывания и обновления инфраструктуры. Код инфраструктуры может быть включен в пайплайны CI/CD, что позволяет автоматически разворачивать и тестировать инфраструктуру при каждом изменении кода приложения.

Более эффективное управление изменениями: Использование IAC позволяет легко отслеживать и контролировать изменения в инфраструктуре. Изменения могут быть предварительно протестированы и проверены на локальных или тестовых средах перед применением на боевых серверах. Это снижает риск неожиданных проблем и обеспечивает более эффективное управление изменениями.

Повышение безопасности: Использование кода для управления инфраструктурой позволяет применять принципы безопасной конфигурации с помощью автоматизированных проверок и установки стандартных параметров безопасности. Можно легко применять обновления безопасности на всех управляемых хостах с помощью централизованного кода.

Эффективное резервное копирование и восстановление: С использованием IAC можно создать кодовое представление инфраструктуры, включая настройки и конфигурацию. Это позволяет легко восстановить инфраструктуру из резервной копии, воспроизведя ее состояние на основе кода.

---

### Задание 2 

**Выполните действия и приложите скриншоты действий.**

1. Установите Ansible.
2. Настройте управляемые виртуальные машины, не меньше двух.
3. Создайте файл inventory. Предлагается использовать файл, размещённый в папке с проектом, а не файл inventory по умолчанию.
4. Проверьте доступность хостов с помощью модуля ping.
 ### Ответ
 ![image](https://github.com/goddim/HW_netology_main/assets/132663924/68c82d27-7f1e-48d1-b3a5-a7d27897ddbd)
 ![image](https://github.com/goddim/HW_netology_main/assets/132663924/8d87e167-cdd7-43b8-a641-ec2fbaebe8fd)


---

### Задание 3 

**Ответьте на вопрос в свободной форме.**

Какая разница между параметрами forks и serial? 

 ### Ответ
 Параметры forks и serial в Ansible используются для управления параллелизмом выполнения задач на удаленных узлах.

forks: Параметр forks определяет количество параллельных форков (потоков выполнения) для выполнения задач на удаленных узлах. Он указывает, сколько узлов может быть обработано одновременно. По умолчанию значение forks равно 5. Значение параметра forks можно изменить в файле конфигурации Ansible (ansible.cfg) или переопределить при запуске команды Ansible с помощью флага -f или --forks.
Например, если у вас есть 10 управляемых хостов и вы установили forks=3, то Ansible будет обрабатывать до 3 хостов одновременно, выполняя задачи на них параллельно, а затем переходить к следующей группе хостов.

serial: Параметр serial указывает количество узлов, которые будут обрабатываться одновременно при выполнении операций на группе хостов. Он контролирует порядок выполнения на группе узлов, определенных в инвентарном файле.
Например, если у вас есть группа из 10 управляемых хостов и вы установили serial=2, то Ansible будет выполнять задачи на 2 хостах одновременно, а затем переходить к следующей паре хостов и так далее, пока все хосты не будут обработаны.

Разница между forks и serial заключается в том, что forks определяет количество параллельных форков (потоков выполнения), которые выполняют задачи на удаленных узлах, в то время как serial контролирует количество узлов, обрабатываемых одновременно на группе хостов. forks управляет параллелизмом на уровне всего плейбука или команды, а serial контролирует порядок выполнения на уровне группы хостов.

---

### Задание 4 

В этом задании вы будете работать с Ad-hoc коммандами.

**Выполните действия и приложите скриншоты запуска команд.**

1. Установите на управляемых хостах любой пакет, которого нет.
2. Проверьте статус любого, присутствующего на управляемой машине, сервиса. 
3. Создайте файл с содержимым «I like Linux» по пути /tmp/netology.txt.
 
  ### Ответ
